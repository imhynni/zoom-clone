# ğŸ“ ë‚´ìš© ì •ë¦¬

## ğŸ’¡ ë“¤ì–´ê°€ê¸° ì „ ì•Œì•„ì•¼ í•˜ëŠ” ê²ƒë“¤

- ExpressJS  
  node.jsë¥¼ ìœ„í•œ ì›¹ í”„ë ˆì„ì›Œí¬ ì¤‘ í•˜ë‚˜, ì‚¬ì‹¤ìƒ node.jsì˜ í‘œì¤€ ì„œë²„ í”„ë ˆì„ì›Œí¬ë¡œ ë¶ˆë¦°ë‹¤. nodejsë¥¼ ì„œë²„ë¡œ ì‰½ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ê²Œ express í”„ë ˆì„ì›Œí¬.  
  ì¦‰, expressëŠ” nodejsë¥¼ ì‰½ê²Œ ì„œë²„ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ ë§Œë“  í´ë˜ìŠ¤ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ëª¨ì•„ë‘” ê²ƒì´ë‹¤. - node.js  
   node.jsëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì›¹ ë¸Œë¼ìš°ì €, ì›¹ ì‚¬ì´íŠ¸ ë¿ë§Œ ì•„ë‹ˆë¼ ì™¸ë¶€ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” cross-platform ì—”ì§„ì´ë‹¤.
- app.get()

  ```js
  app.get(PATH, HANDLER);
  app.post(PATH, HANDLER);
  ```

  ì—¬ê¸°ì„œ `app`ì€ express ê°ì²´  
   METHODì—ëŠ” HTTP ìš”ì²­ ë©”ì†Œë“œë¡œ GET, POST ë°©ì‹ì´ ìˆë‹¤.  
   `PATH`ëŠ” í•´ë‹¹í•˜ëŠ” í”„ë¡œì íŠ¸ ë‚´ì˜ ì„œë²„ ê²½ë¡œ  
   `HANDLER`ëŠ” ë¼ìš°íŠ¸ê°€ ì¼ì¹˜í•  ë•Œ ë°œìƒí•˜ëŠ” í•¨ìˆ˜

  - ë¼ìš°íŒ…  
    ë¼ìš°íŒ…ì€ URI(ë˜ëŠ” ê²½ë¡œ) ë° íŠ¹ì •í•œ HTTP ìš”ì²­ ë©”ì†Œë“œ(GET, POST ë“±)ì¸ íŠ¹ì • ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‘ë‹µí•˜ëŠ” ë°©ë²•ì„ ê²°ì •í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.  
    ê° ë¼ìš°íŠ¸ëŠ” í•˜ë‚˜ ì´ìƒì˜ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ì´ëŸ¬í•œ í•¨ìˆ˜ëŠ” ë¼ìš°íŠ¸ê°€ ì¼ì¹˜í•  ë•Œ ì‹¤í–‰ëœë‹¤.

  - ë¼ìš°íŠ¸ì˜ ì‚¬ìš©  
     í™ˆ í˜ì´ì§€ì—ì„œ Hello World!ë¡œ ì‘ë‹µ :
    ```js
    // GET ë°©ì‹ì˜ METHOD
    app.get("/", function (req, res) {
      res.send("Hello World!");
    });
    ```
    ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í™ˆ í˜ì´ì§€ì¸ ë£¨íŠ¸ ë¼ìš°íŠ¸(/)ì—ì„œ POST ìš”ì²­ì— ì‘ë‹µ :
    ```js
    app.post("/", function (req, res) {
      res.send("Got a POST request");
    });
    ```
    /user ë¼ìš°íŠ¸ì— ëŒ€í•œ PUT ìš”ì²­ì— ì‘ë‹µ :
    ```js
    app.put("/user", function (req, res) {
      res.send("Got a PUT request at /user");
    });
    ```
    /user ë¼ìš°íŠ¸ì— ëŒ€í•œ DELETE ìš”ì²­ì— ì‘ë‹µ :
    ```js
    app.delete("/user", function (req, res) {
      res.send("Got a DELETE request at /user");
    });
    ```

- Pug  
  pugëŠ” í…œí”Œë¦¿ ì—”ì§„ ì¤‘ í•˜ë‚˜ì´ë‹¤. í…œí”Œë¦¿ ì—”ì§„ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•˜ì—¬ HTMLì„ ë Œë”ë§í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.  
  ì°¸ì¡° : https://inpa.tistory.com/374

- (req, res) =>  
   express.js ë¼ìš°íŠ¸ ìš”ì²­ ê°ì²´(`req`), ì‘ë‹µ ê°ì²´(`res`)

  ì°¸ì¡° : https://luckyyowu.tistory.com/346

  https://velog.io/@leitmotif/%EB%9D%BC%EC%9A%B0%ED%8C%85-%EB%B6%84%EB%A6%AC%EC%99%80-reqresuri

- babel  
   ìë°”ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ëŸ¬. ìµœì‹  ë²„ì „ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì€ ë¸Œë¼ìš°ì €ê°€ ì´í•´í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— babelì´ ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ë¬¸ë²•ìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤.

  ì°¸ì¡° : https://ljs0705.medium.com/babel-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-a1d0e6bd021a

- package.json  
   íŒ¨í‚¤ì§€ì— ê´€í•œ ì •ë³´ì™€ ì˜ì¡´ì¤‘ì¸ ë²„ì „ì— ê´€í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤.

  ì°¸ì¡° : https://www.zerocho.com/category/NodeJS/post/5825a3caaff5c70018279975

- nodemon  
  nodemonì€ í”„ë¡œì íŠ¸ë¥¼ ì‚´í´ë³´ê³  ë³€ê²½ì‚¬í•­ì´ ìˆì„ ì‹œ ì„œë²„ë¥¼ ì¬ì‹œì‘í•´ì£¼ëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.

  Node.jsÂ ê°œë°œ ì‹œ ìë°” ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë“¤ì„ ìˆ˜ì • í• ë•Œë§ˆë‹¤ ë§¤ë²ˆ ctrl+cë¥¼ í†µí•´ nodeë¥¼ ì¢…ë£Œ í›„ ë‹¤ì‹œ ì‹¤í–‰í•´ì¤˜ì•¼ í•˜ëŠ” ë²ˆê±°ë¡œì›€ ì´ ìˆì—ˆìŠµë‹ˆë‹¤.í•˜ì§€ë§Œ íŒŒì¼ë“¤ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ìˆë‹¤ê°€ ìˆ˜ì •ë  ê²½ìš° ìë™ìœ¼ë¡œ ì„œë²„ë¥¼ ì¬ì‹¤í–‰ì‹œì¼œì£¼ëŠ” ìŠ¤í¬ë¦½íŠ¸ ëª¨ë‹ˆí„°ë§ ìœ í‹¸ë¦¬í‹°Â nodemonë¥¼ ì´ìš©í•˜ë©´ ë²ˆê±°ë¡œì›€ì´ ìƒë‹¹íˆ ì¤„ì–´ë“­ë‹ˆë‹¤.

  ì¶œì²˜: https://inpa.tistory.com/entry/NODE-ğŸ“š-nodemon-ì„¤ì¹˜ [ğŸ‘¨â€ğŸ’» Dev Scroll:í‹°ìŠ¤í† ë¦¬]

## zoom clone

- expressë¡œ í•  ì¼ì€ viewsë¥¼ ì„¤ì •í•´ì£¼ê³  render í•´ì£¼ëŠ” ê²ƒ
- ë‚˜ë¨¸ì§€ëŠ” websocket ì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¼ì–´ë‚œë‹¤

- nodemon ì¬ì‹œì‘  
   app.jsì™€ ê°™ì€ í”„ë¡ íŠ¸ì—”ë“œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìˆ˜ì •í•  ë•Œ ë§ê³   
   viewsë‚˜ ì„œë²„ë¥¼ ìˆ˜ì •í•  ë•Œë§Œ nodemonì´ ì¬ì‹œì‘ë˜ë„ë¡ í•˜ê¸° ìœ„í•´  
   nodemon.jsonì— `ignore` ì¶”ê°€

- nodejs ê¸°ë³¸ì ì¸ ì„¤ì •
  - Pugë¡œ view engine ì„¤ì •
  - Expressì— templateì´ ì–´ë”¨ëŠ”ì§€ ì§€ì •í•´ì£¼ê³ 
  - public urlì„ ìƒì„±í•´ì„œ ìœ ì €ì—ê²Œ íŒŒì¼ì„ ê³µìœ í•´ì£¼ê³ 
  - home.pugë¥¼ render í•´ì£¼ëŠ” route handlerë¥¼ ë§Œë“¦

---

### WebSocket

- HTTP

  - stateless : backendê°€ ìœ ì €ë¥¼ ê¸°ì–µí•˜ì§€ ëª»í•¨
  - requestì™€ response ê³¼ì • ë’¤ì— ë°±ì—”ë“œëŠ” ìœ ì €ë¥¼ ìŠì–´ë²„ë¦¼
  - reponseë¥¼ ì£¼ë©´ ëë‚¨ ê·¸ë¦¬ê³  ë‹¤ì‹œ requestë¥¼ ê¸°ë‹¤ë¦¼
  - ë‚´ê°€ ëˆ„êµ¬ì¸ì§€ ì•Œë ¤ì£¼ëŠ” cookieë¥¼ ì„œë²„ë¡œ ë³´ë‚´ì•¼ í•¨
  - ì„œë²„ê°€ ìœ ì €ê°€ ëˆ„êµ¬ì¸ì§€ ìŠì–´ë²„ë¦¬ëŠ” ê±¸ statelessë¼ê³  í•¨
  - ì„œë²„ëŠ” ì˜¤ì§ requestë¥¼ ë°›ì„ ë•Œë§Œ reponseë¥¼ ì¤Œ
  - real-timeìœ¼ë¡œ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤
  - ì„œë²„ê°€ ìœ ì €ì—ê²Œ ë¶ˆì‘¥ ëŒ€í™”ë¥¼ ê±¸ ìˆ˜ê°€ ì—†ìŒ
  - ì„œë²„ëŠ” ìœ ì €ê°€ ë¬¼ì–´ë´ì•¼ ë‹µí•  ìˆ˜ ìˆë‹¤

- WebSocket

  - httpì™€ëŠ” ì „í˜€ ë‹¤ë¥¸ í”„ë¡œí† ì½œ
  - ì›¹ì†Œì¼“ ì—°ê²°ì´ ì¼ì–´ë‚  ë• ë§ˆì¹˜ ì•…ìˆ˜ì²˜ëŸ¼ ì‘ë™
  - ë¸Œë¼ìš°ì €ê°€ ì„œë²„ë¡œ ì›¹ì†Œì¼“ ë¦¬í€˜ë¥¼ ë³´ë‚´ë©´ ì„œë²„ê°€ ë°›ê±°ë‚˜ ê±°ì ˆí•˜ê±°ë‚˜
  - í•œ ë²ˆ ì—°ê²°ì´ ì„±ë¦½ë˜ë©´ ì–‘ë°©í–¥ ì—°ê²°ì´ ìƒê¸´ë‹¤
  - ì—°ê²°ëœë‹¤ëŠ” ê²ƒì€ ë¸Œë¼ìš°ì €ì™€ ì„œë²„ê°€ ì„œë¡œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ í•˜ëŠ” í„°ë„ì´ ìˆë‹¤ëŠ” ê²ƒ
  - ì—°ê²°ë¼ìˆê¸° ë•Œë¬¸ì— ì„œë²„ëŠ” ìœ ì €ê°€ ëˆ„êµ°ì§€ ê¸°ì–µ
  - ì›í•œë‹¤ë©´ ì„œë²„ê°€ ìœ ì €ì—ê²Œ ë¨¼ì € ë©”ì„¸ì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìŒ
  - ì„œë²„ëŠ” ë¦¬í€˜ë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šì•„ë„ ë¨
  - request, response ê³¼ì •ì´ í•„ìš” ì—†ìŒ
  - bi-directional : ì–‘ë°©í–¥ ì—°ê²°
  - ì´ ëª¨ë“  ê²ƒë“¤ì€ connection ì¤‘ì¼ ë•Œë§Œ ë°œìƒ
  - ë¸Œë¼ìš°ì €ëŠ” ì„œë²„ì—ê²Œ ì–´ëŠ ë•Œë‚˜ ë©”ì„¸ì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆê³  ì„œë²„ëŠ” ë¸Œë¼ìš°ì €ì—ê²Œ ì–´ëŠ ë•Œë‚˜ ë©”ì„¸ì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.
  - ë¸Œë¼ìš°ì €ì™€ ë°±ì—”ë“œ ì‚¬ì´ ë¿ë§Œ ì•„ë‹ˆë¼ ë°±ì—”ë“œì™€ ë°±ì—”ë“œ ì‚¬ì´ì—ì„œë„ ê°€ëŠ¥ (httpë„ ë§ˆì°¬ê°€ì§€)
  - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì•„ë¬´ê²ƒë„ ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›í•´ì¤˜ì„œ ì‚¬ìš© ê°€ëŠ¥
  - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ `btn.addEventListener("click", fn)` í•˜ë“¯ì´ webSocketì—ë„ eventê°€ ìˆê³ , eventê°€ ë°œë™ë  ë•Œ ì‚¬ìš©í•  functionì„ ë§Œë“¤ë©´ ë¨

## socket

- socket.send

  - ë©”ì„¸ì§€ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ stringì´ ì•„ë‹Œ json íƒ€ì…ì˜ ê°’ì„ ë³´ë‚´ê³  ì‹¶ìŒ
  - socketì— send í•  ë•Œ string íƒ€ì… ë°–ì— ëª» ë³´ëƒ„ -> Json ë³´ë‚´ë ¤ë©´? -> `JSON.stringify`, `JSON.parse` ë¥¼ ì‚¬ìš©í•˜ì

- socketì€ ê°ì²´ì´ë¯€ë¡œ ë‚´ë§˜ëŒ€ë¡œ í”„ë¡œí¼í‹° ì¶”ê°€ ê°€ëŠ¥

## ğŸ Socket IO ğŸ

- front-endì™€ back-end ê°„ ì‹¤ì‹œê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬ ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
- ì‹¤ì‹œê°„ ê¸°ëŠ¥ì„ ë§Œë“œëŠ” ë° ë” í¸ë¦¬í•œ ê¸°ëŠ¥ ì œê³µ
- ì‹¤ì‹œê°„, ì–‘ë°©í–¥, event ê¸°ë°˜ì˜ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•¨
- socket IOëŠ” webSocketì„ ì‹¤í–‰í•˜ëŠ” ê²Œ ì•„ë‹˜
- socket IOëŠ” ì›¹ì†Œì¼“ì˜ ë¶€ê°€ ê¸°ëŠ¥ì´ ì•„ë‹˜
- websocketì€ Socket IOê°€ ì‹¤ì‹œê°„, ì–‘ë°©í–¥, event ê¸°ë°˜ í†µì‹ ì„ ì œê³µí•˜ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜
- websocket ì´ìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë©´ socket IOëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ ì´ìš©í•´ ê³„ì† ì‘ë™í•  ê²ƒ
- ìš°ë¦¬ì—ê²Œ ì‹ ë¢°ì„±ì„ ì£¼ëŠ” ê²ƒ
- ë¸Œë¼ìš°ì €ê°€ ì£¼ëŠ” websocketì€ socket IOì™€ í˜¸í™˜ì´ ì•ˆë˜ë¯€ë¡œ(ë¶€ê°€ê¸°ëŠ¥ì´ ì•„ë‹ˆë¯€ë¡œ) ë¸Œë¼ìš°ì €ì— ì„¤ì¹˜ë¥¼ í•´ì•¼ í•¨
- ë¸Œë¼ìš°ì €ì— socketIOë¥¼ ì„¤ì¹˜í•˜ë©´, ioë¼ëŠ” functionì„ ë³¼ ìˆ˜ ìˆë‹¤
  - io : ìë™ìœ¼ë¡œ ë°±ì—”ë“œ socket.ioì™€ ì—°ê²°í•´ì£¼ëŠ” function, ì•Œì•„ì„œ socket.ioë¥¼ ì‹¤í–‰í•˜ê³  ìˆëŠ” ì„œë²„ë¥¼ ì°¾ìŒ
- ğŸ’¡ socket.emit(event, payload, function)
  - ë§Œë“¤ê³  ì‹¶ì€ ì–´ë–¤ eventë¼ë„ ë³´ë‚¼ ìˆ˜ ìˆìŒ
  - emitì„ í•˜ë©´ argumentë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìŒ (js objectë„ ê°€ëŠ¥), í•˜ë‚˜ê°€ ì•„ë‹Œ ì—¬ëŸ¬ê°œ ì „ì†¡ ê°€ëŠ¥
  - ğŸŒŸ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°±ì—”ë“œë¡œ functionì„ ë³´ë‚´ê³  ë°±ì—”ë“œì—ì„œ ê·¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê·¸ í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨ ğŸŒŸ êµ‰ì¥íˆ ì¤‘ìš”í•œ ê¸°ëŠ¥!!!
    í”„ë¡ íŠ¸ì—”ë“œì— ìˆëŠ” ì½”ë“œë¥¼ í˜¸ì¶œì€ ë°±ì—”ë“œê°€ í–ˆëŠ”ë° ì‹¤í–‰ì€ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë˜ë‹¤ë‹ˆ,,~
    ì˜ˆë¥¼ ë“¤ì–´ ì²˜ë¦¬ ë¹„ìš©ì´ í¬ê³  ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì„ í•œë‹¤ê³  í–ˆì„ ë•Œ, í”„ë¡ íŠ¸ì—”ë“œì— ì‘ì—…ì„ ì™„ë£Œí–ˆë‹¤ê³  ì•Œë¦¬ê³  ì‹¶ì€ ê²½ìš° ì‚¬ìš© ê°€ëŠ¥, ì¦‰ ëë‚¬ì„ ë•Œ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ (websocketì—ì„œëŠ” ë¶ˆê°€)  
    ë³„ë‹¤ë¥¸ ê±° í•„ìš”ì—†ì´ ë§ˆì§€ë§‰ argumentë¥¼ functionìœ¼ë¡œ ì£¼ë©´ ë¨  
    í•¨ìˆ˜ë¥¼ í†µí•´ ë°±ì—”ë“œ->í”„ë¡ íŠ¸ì—”ë“œ argumentë„ ì „ë‹¬í•  ìˆ˜ ìˆìŒ!!
- socket IOëŠ” room ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
  - `socket.join("roomName")`  
    ë°©ì— ë“¤ì–´ê°€ê¸°
  - `socket.rooms`  
    socketì´ ì–´ë–¤ ë°©ì— ìˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆìŒ
  - `socket.id`  
    socketì—ëŠ” ì•„ì´ë””ê°€ ìˆì–´ì„œ ì•„ì´ë””ë¡œ êµ¬ë³„í•  ìˆ˜ ìˆìŒ
  - socketì—ì„œ ì–´ë–¤ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì•Œë ¤ì¤Œ
    ```js
    socket.onAny((event) => {
      console.log(`socket event : ${event}`);
    });
    ```
- ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ì´ë²¤íŠ¸ë¥¼ ë³´ë‚´ëŠ” ê¸°ëŠ¥, ê°œì¸ ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ëŠ” ê¸°ëŠ¥

  ```js
  io.on("connection", (socket) => {
    socket.to("others").emit("an event", { some: "data" });
    // "others"ëŠ” ë°© ì´ë¦„
    socket.to("room1").to("room2").emit("hello");

    socket.to(["room1", "room2"]).emit("hello");
    socket.to(/* another socket ID */).emit("hey");
  });
  ```

- socketë“¤ë„ ì „ìš© ë°©(private room)ì´ ìˆì–´ì„œ private messageë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìŒ
- ë°©ì„ ë‚˜ê°ˆ ë•Œ, í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ì—°ê²°ì´ ëŠì–´ì§€ê¸° ì „ì— ë§ˆì§€ë§‰ êµ¿ë°”ì´ ë©”ì„¸ì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.
  disconnect != disconnecting

  - disconnect  
    roomì„ ë– ë‚œ í›„
  - disconnecting
    roomì„ ë– ë‚˜ê¸° ì§ì „

  ```js
  socket.on("disconnecting"),
    () => {
      socket.rooms.forEach((room) => socket.to(room).emit("bye"));
    };
  ```

- Adapter  
  ![img](https://socket.io/assets/images/mongo-adapter-88a4451b9d19d21c8d92d9a7586df15b.png)
  - ë‹¤ë¥¸ ì„œë²„ë“¤ ì‚¬ì´ì— ì‹¤ì‹œê°„ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë™ê¸°í™”í•˜ëŠ” ê²ƒ
  - DBë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ Adapterë¥¼ ê¼­ ì‚¬ìš©í•´ì•¼í•¨
  - ëˆ„ê°€ ì—°ê²°ë˜ì—ˆëŠ”ì§€, roomì´ ëª‡ê°œì¸ì§€ ì•Œë ¤ì¤Œ
  - `rooms`, `socket ID`
  - `maps`ë¥¼ ì´ìš©
  - Mapì— ìˆëŠ” roomsë¥¼ í™•ì¸í•˜ê³  roomì˜ idë„ í™•ì¸, room idê°€ socket idì—ë„ ìˆìœ¼ë©´ ê·¸ê±´ private room, ì•„ë‹ˆë¼ë©´ public room
  - `map.get`, `map.key`ë¥¼ ì´ìš©í•´ì„œ keyê°€ socket IDì¸ì§€ ì•„ë‹ˆë©´ ë°©ì œëª©ì¸ì§€ ì•Œ ìˆ˜ ìˆìŒ -> íŒë³„ í›„ publicë§Œ ë‚¨ê¸°ë„ë¡
  ```js
  rooms.forEach((_, key) => {
    if (sids.get(key) === undefined) {
      console.log(key);
    }
  });
  ```
- `server.sockets.emit`  
  ì—°ê²°ëœ ëª¨ë“  socketì—ê²Œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ì¤Œ

- set
  uniqueí•œ itemë“¤
  room map ì•ˆì— setì´ ì¡´ì¬, setì˜ sizeë¡œ roomì˜ ì‚¬ëŒ ìˆ˜ ì•Œ ìˆ˜ ìˆìŒ
  ```js
  const food = new Set(["pizza", "love"]);
  food.size;
  ```
